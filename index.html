<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissors</title>
</head>
<body>
    <script>

        function counterplay(){
            let randomval = Math.floor(Math.random() * 3) + 1;
            console.log(randomval);

            switch (randomval){
                case 1:
                    return("rock");
                    break;

                case 2:
                    return("paper");
                    break;

                case 3:
                    return("scissors");
                    break;
            }
        }
        
        function playerSelection(){
            let exit = false;
            while (exit == false){
                let player = window.prompt("Enter your choice: 'Rock', 'Paper', or 'Scissors': ")
                player = player.toLocaleLowerCase();

                if(player === 'rock' || player === 'paper' || player === 'scissors'){
                    exit = true;
                    return(player);
                }

                else{
                alert("Please type in an appropriate option")
                }
                
            }
        }

        function playround(playermove, computer){
            let result;
            if(playermove === computer){
                result = "The match is a Tie!";
                return result;
            }
            else if(playermove === 'rock'){
                computer === 'scissors' ? result = "You Win the match!" : result = "You lost the match :(";
                return result
            }

            else if(playermove === 'paper'){
                computer === 'rock' ? result = "You Win the match!" : result = "You lost the match :(";
                return result;
            }

            else if(playermove === 'scissors'){
                computer === 'paper' ? result = "You Win the match!" : result = "You lost the match :(";
                return result;
           }
        }

        
        /*
        let compmove = counterplay();
        console.log(compmove);

        let playermove = playerSelection();
        console.log(playermove);
        */
        let player_points = 0;
        let comp_points = 0;
        

        for(let i = 0; i < 5; i++){
            let compmove = counterplay();
            console.log(compmove);

            let playermove = playerSelection();
            console.log(playermove);

            let match = playround(playermove, compmove);
            alert(match);
            if(match != "The match is a Tie!"){
                match === "You Win the match!" ? player_points += 1 : comp_points += 1;
            }
        }

        console.log(player_points);
        console.log(comp_points);
        if(player_points === comp_points){
            alert("The game is a tie")
        }
        else{
            player_points > comp_points ? alert("The player won the Game!") : alert("The computer won the game.");
        }
    </script>

</body>
</html>